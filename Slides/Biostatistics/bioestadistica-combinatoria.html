<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combinatoria - Bioestad√≠stica</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family:'Source Sans Pro',sans-serif;
            background:linear-gradient(135deg,#e8f4f8 0%,#f0f8ff 50%,#ffffff 100%);
            color:#2c3e50; overflow:hidden;
        }
        .container { width:100vw; height:100vh; position:relative; }
        .slide {
            display:none; width:100%; height:100%;
            padding:3.5rem 6rem; flex-direction:column;
        }
        .slide.active { display:flex; }

        /* PORTADA */
        .cover {
            background:linear-gradient(135deg,#a8d8ea 0%,#d4e9f7 40%,#f0f8ff 100%);
            justify-content:center; align-items:center; text-align:center;
            position:relative; overflow:hidden;
        }
        .cover::before {
            content:''; position:absolute;
            top:-100px; right:-100px; width:350px; height:350px;
            border-radius:50%; background:rgba(168,216,234,0.15);
        }
        .cover::after {
            content:''; position:absolute;
            bottom:-70px; left:-70px; width:250px; height:250px;
            border-radius:50%; background:rgba(168,216,234,0.1);
        }
        .cover h1 {
            font-family:'Playfair Display',serif;
            font-size:3.6rem; font-weight:900; line-height:1.2;
            margin-bottom:1.2rem; position:relative; z-index:1;
            color:#2c3e50;
        }
        .cover .subtitle {
            font-size:1.35rem; opacity:0.85; color:#34495e;
            position:relative; z-index:1;
        }
        .cover .line {
            width:90px; height:3px; background:#5dade2;
            margin:1.8rem auto; position:relative; z-index:1;
        }
        .cover .help {
            margin-top:2.5rem; font-size:0.95rem;
            opacity:0.65; position:relative; z-index:1; color:#34495e;
        }
        .cover .meta {
            margin-top:0.8rem; font-size:0.88rem;
            opacity:0.55; position:relative; z-index:1; color:#34495e;
        }

        /* SLIDES */
        .slide-header { margin-bottom:1.3rem; flex-shrink:0; }
        .slide-number {
            color:#5dade2; font-size:0.8rem; font-weight:700;
            letter-spacing:2.5px; text-transform:uppercase; margin-bottom:0.4rem;
        }
        h2 {
            font-family:'Playfair Display',serif;
            font-size:2.2rem; color:#2c3e50;
        }
        h3 {
            font-family:'Playfair Display',serif;
            font-size:1.35rem; color:#5dade2; margin:1.2rem 0 0.7rem;
        }
        .content { flex:1; overflow-y:auto; padding-right:1.5rem; }
        .content::-webkit-scrollbar { width:5px; }
        .content::-webkit-scrollbar-track { background:rgba(93,173,226,0.1); border-radius:3px; }
        .content::-webkit-scrollbar-thumb { background:#5dade2; border-radius:3px; }

        p { font-size:1.02rem; line-height:1.7; margin-bottom:1.1rem; color:#34495e; }
        ul { list-style:none; margin:0.8rem 0; }
        ul li {
            font-size:0.98rem; line-height:1.6; margin-bottom:0.6rem;
            padding-left:1.5rem; position:relative; color:#34495e;
        }
        ul li::before {
            content:'‚ñ∏'; position:absolute; left:0;
            color:#5dade2; font-weight:bold;
        }

        /* CAJAS */
        .box {
            background:rgba(93,173,226,0.08); border-left:4px solid #5dade2;
            padding:1.2rem 1.4rem; margin:1.2rem 0; border-radius:0 7px 7px 0;
        }
        .box strong { color:#5dade2; display:block; margin-bottom:0.4rem; font-size:1.02rem; }
        .box p { margin-bottom:0.35rem; }
        .box-warn { background:rgba(230,126,34,0.08); border-left-color:#e67e22; }
        .box-warn strong { color:#e67e22; }
        .box-success { background:rgba(46,204,113,0.08); border-left-color:#2ecc71; }
        .box-success strong { color:#2ecc71; }

        /* GRIDS */
        .grid { display:grid; gap:1.1rem; margin:1.1rem 0; }
        .grid-2 { grid-template-columns:repeat(2,1fr); }
        .grid-3 { grid-template-columns:repeat(3,1fr); }
        .card {
            background:rgba(255,255,255,0.7); padding:1.2rem;
            border-radius:9px; border:1px solid rgba(93,173,226,0.25);
            box-shadow:0 2px 8px rgba(168,216,234,0.15);
        }
        .card h4 { color:#5dade2; margin-bottom:0.5rem; font-size:1.06rem; }
        .card p { font-size:0.95rem; margin-bottom:0.3rem; }
        .card-accent { border-color:rgba(93,173,226,0.5); background:rgba(168,216,234,0.12); }

        .em { color:#5dade2; font-weight:700; }
        .em-warn { color:#e67e22; font-weight:700; }
        .em-success { color:#2ecc71; font-weight:700; }

        /* TABLAS */
        table { width:100%; border-collapse:collapse; margin:1rem 0; font-size:0.9rem; }
        th,td { padding:0.7rem 0.9rem; text-align:left; border-bottom:1px solid rgba(93,173,226,0.2); }
        th { background:rgba(93,173,226,0.15); color:#2c3e50; font-weight:700; font-size:0.88rem; letter-spacing:0.4px; }
        tr:last-child td { border-bottom:none; }

        /* FORMULA */
        .formula {
            background:rgba(255,255,255,0.8); padding:1.2rem 1.8rem;
            border-radius:8px; border:2px solid rgba(93,173,226,0.3);
            font-family:'Courier New',monospace; font-size:1.15rem; text-align:center;
            margin:1.2rem 0; color:#2c3e50; font-weight:600;
            box-shadow:0 2px 8px rgba(168,216,234,0.2);
        }

        /* BADGES */
        .exercise-badge {
            background:linear-gradient(135deg,#5dade2,#85c1e9);
            color:#fff; padding:0.3rem 1.2rem; border-radius:24px;
            display:inline-block; font-weight:800; font-size:0.8rem;
            letter-spacing:1.5px; box-shadow:0 3px 10px rgba(93,173,226,0.3);
        }

        /* EJERCICIOS */
        .exercise-input {
            width:100%; background:rgba(255,255,255,0.9);
            border:1px solid rgba(93,173,226,0.35); border-radius:7px;
            padding:0.6rem 0.9rem; color:#2c3e50; font-size:0.95rem;
            font-family:'Source Sans Pro',sans-serif;
            margin-top:0.3rem; transition:border-color 0.25s;
        }
        .exercise-input:focus { outline:none; border-color:#5dade2; background:#fff; }
        .exercise-input.correct { border-color:#2ecc71; background:rgba(46,204,113,0.1); }
        .exercise-input.incorrect { border-color:#e74c3c; background:rgba(231,76,60,0.1); }

        .exercise-q { margin-bottom:0.9rem; }
        .exercise-q label { font-size:0.95rem; color:#34495e; display:block; }
        .exercise-q .qnum { color:#5dade2; font-weight:700; }

        .exercise-btns { display:flex; gap:1rem; margin-top:1.4rem; flex-wrap:wrap; }
        .ex-btn {
            background:#5dade2; border:none; color:#fff;
            padding:0.55rem 1.6rem; border-radius:24px;
            font-weight:700; font-size:0.9rem; cursor:pointer;
            font-family:'Source Sans Pro',sans-serif;
            transition:background 0.25s,transform 0.15s;
        }
        .ex-btn:hover { background:#3498db; transform:scale(1.05); }
        .ex-btn-sec { background:transparent; border:1px solid rgba(93,173,226,0.5); color:#5dade2; }
        .ex-btn-sec:hover { background:rgba(93,173,226,0.1); border-color:#5dade2; }

        .feedback-msg { margin-top:1rem; padding:0.75rem 1.2rem; border-radius:7px; font-size:0.95rem; display:none; }
        .feedback-msg.show { display:block; }
        .feedback-msg.success { background:rgba(46,204,113,0.15); border:1px solid rgba(46,204,113,0.4); color:#27ae60; }
        .feedback-msg.partial { background:rgba(230,126,34,0.1); border:1px solid rgba(230,126,34,0.4); color:#d68910; }

        .mc-option {
            background:rgba(255,255,255,0.7); border:1px solid rgba(93,173,226,0.3);
            border-radius:7px; padding:0.6rem 1rem; margin:0.35rem 0;
            cursor:pointer; transition:all 0.22s; font-size:0.95rem; color:#34495e;
        }
        .mc-option:hover { border-color:#5dade2; background:rgba(93,173,226,0.12); }
        .mc-option.selected { border-color:#5dade2; background:rgba(93,173,226,0.18); }
        .mc-option.correct-sel { border-color:#2ecc71; background:rgba(46,204,113,0.2); }
        .mc-option.incorrect-sel { border-color:#e74c3c; background:rgba(231,76,60,0.15); }

        /* NAV */
        .nav { position:fixed; bottom:2rem; right:2rem; display:flex; gap:1.1rem; z-index:1000; }
        .btn {
            width:56px; height:56px; background:#5dade2; border:none;
            border-radius:50%; color:#fff; font-size:1.35rem;
            font-weight:bold; cursor:pointer; transition:all 0.3s;
            box-shadow:0 4px 15px rgba(93,173,226,0.35);
        }
        .btn:hover:not(:disabled) { transform:scale(1.12); background:#3498db; }
        .btn:disabled { opacity:0.35; cursor:not-allowed; }

        .counter {
            position:fixed; bottom:2rem; left:2rem;
            background:rgba(255,255,255,0.9); padding:0.8rem 1.6rem;
            border-radius:28px; border:2px solid #5dade2;
            color:#2c3e50; font-weight:700; z-index:1000; font-size:0.95rem;
            box-shadow:0 2px 8px rgba(93,173,226,0.2);
        }

        @media(max-width:1024px){
            .slide{padding:2.5rem 3rem;}
            .cover h1{font-size:2.4rem;}
            h2{font-size:1.9rem;}
            .grid-3{grid-template-columns:repeat(2,1fr);}
        }
        @media(max-width:680px){
            .slide{padding:1.8rem 1.5rem;}
            .grid-2,.grid-3{grid-template-columns:1fr;}
        }
    </style>
</head>
<body>
<div class="container">

<!-- SLIDE 1 ‚Äî PORTADA -->
<div class="slide cover active">
    <h1>Combinatoria</h1>
    <div class="line"></div>
    <p class="subtitle">T√©cnicas de Conteo para C√°lculo de Probabilidades</p>
    <p class="meta">Bioestad√≠stica Aplicada | Nivel: Medio</p>
    <p class="help">üëâ Usa las flechas del teclado o los botones para navegar ‚Üí</p>
</div>

<!-- SLIDE 2 ‚Äî OBJETIVOS -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">INTRODUCCI√ìN</div>
        <h2>Objetivos de la Sesi√≥n</h2>
    </div>
    <div class="content">
        <div class="box box-success">
            <strong>üéØ Objetivo principal</strong>
            <p>Aprender <span class="em-success">t√©cnicas de conteo</span> para ser aplicadas en el <strong>c√°lculo de probabilidades</strong>.</p>
        </div>

        <h3>¬øPor qu√© es importante?</h3>
        <p>En muchos problemas de probabilidades debemos:</p>
        <ul>
            <li><strong>Citar todas las alternativas posibles</strong> en una situaci√≥n dada</li>
            <li><strong>Determinar cu√°ntas posibilidades diferentes existen</strong></li>
        </ul>

        <div class="box">
            <strong>üìä La combinatoria proporciona...</strong>
            <p>Los <strong>procedimientos y f√≥rmulas necesarias</strong> para contar las posibilidades que hay de elegir un conjunto de elementos con determinadas caracter√≠sticas.</p>
        </div>

        <h3>Contenidos del tema</h3>
        <div class="grid grid-3">
            <div class="card">
                <h4>1. Regla de la multiplicaci√≥n</h4>
            </div>
            <div class="card">
                <h4>2-3. Permutaciones</h4>
            </div>
            <div class="card">
                <h4>4-5. Variaciones</h4>
            </div>
            <div class="card">
                <h4>6-7. Combinaciones</h4>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 3 ‚Äî REGLA MULTIPLICACI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">1 ‚Äî T√âCNICAS DE CONTEO</div>
        <h2>Regla de la Multiplicaci√≥n</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Principio fundamental</strong>
            <p>Si una operaci√≥n consta de <strong>2 pasos</strong>, de los cuales:</p>
            <ul style="margin-top:0.5rem;">
                <li>El primer paso puede efectuarse de <strong>n‚ÇÅ formas</strong></li>
                <li>Para cada una de √©stas, el segundo puede realizarse de <strong>n‚ÇÇ formas</strong></li>
            </ul>
            <p style="margin-top:0.5rem;">Entonces toda la operaci√≥n se lleva a cabo de:</p>
        </div>

        <div class="formula">
            n‚ÇÅ √ó n‚ÇÇ maneras
        </div>

        <div class="box box-warn">
            <strong>üí° Generalizaci√≥n</strong>
            <p>Si la operaci√≥n consta de <strong>k pasos</strong> que pueden realizarse de n‚ÇÅ, n‚ÇÇ, n‚ÇÉ, ..., n‚Çñ formas respectivamente, entonces el total de maneras es:</p>
            <div class="formula" style="margin-top:0.5rem;">
                n‚ÇÅ √ó n‚ÇÇ √ó n‚ÇÉ √ó ... √ó n‚Çñ
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 4 ‚Äî EJEMPLO VIAJE -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">1 ‚Äî REGLA DE LA MULTIPLICACI√ìN</div>
        <h2>Ejemplo 1: Viaje de Vacaciones</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>Sup√≥ngase que alguien desea viajar en <strong>3 tipos de veh√≠culos diferentes</strong> para un periodo de vacaciones, a una de <strong>5 ciudades de la costa</strong>. Determine el n√∫mero de formas diferentes en que se logra esto.</p>
        </div>

        <h3>Soluci√≥n</h3>
        <div class="grid grid-2">
            <div class="card card-accent">
                <h4>Paso 1: Veh√≠culo</h4>
                <p>El veh√≠culo se puede escoger de:</p>
                <div class="formula" style="font-size:1rem;">
                    n‚ÇÅ = 3 formas
                </div>
            </div>
            <div class="card card-accent">
                <h4>Paso 2: Ciudad</h4>
                <p>Las ciudades a visitar se pueden escoger de:</p>
                <div class="formula" style="font-size:1rem;">
                    n‚ÇÇ = 5 formas
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Aplicando la regla de la multiplicaci√≥n</strong>
            <div class="formula">
                Total = n‚ÇÅ √ó n‚ÇÇ = 3 √ó 5 = 15
            </div>
            <p style="margin-top:0.5rem;">Existen <span class="em-success">15 maneras diferentes</span> de visitar una ciudad en un tipo de veh√≠culo.</p>
        </div>
    </div>
</div>

<!-- SLIDE 5 ‚Äî EJEMPLO ALMUERZO -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">1 ‚Äî REGLA DE LA MULTIPLICACI√ìN</div>
        <h2>Ejemplo 2: Men√∫ de Almuerzo</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>¬øCu√°ntos almuerzos diferentes se pueden formar si se componen de: <strong>sopa, plato de fondo, postre y bebida</strong>, pudiendo elegir entre:</p>
            <ul style="margin-top:0.5rem;">
                <li>4 tipos de sopas</li>
                <li>3 clases de plato de fondo</li>
                <li>5 tipos de postres</li>
                <li>4 tipos de bebidas diferentes</li>
            </ul>
        </div>

        <h3>Soluci√≥n</h3>
        <div class="grid grid-2">
            <div class="card">
                <h4>Identificaci√≥n de pasos</h4>
                <ul>
                    <li>Sopas: <strong>n‚ÇÅ = 4</strong></li>
                    <li>Platos: <strong>n‚ÇÇ = 3</strong></li>
                    <li>Postres: <strong>n‚ÇÉ = 5</strong></li>
                    <li>Bebidas: <strong>n‚ÇÑ = 4</strong></li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:1rem;">
                    Total = 4 √ó 3 √ó 5 √ó 4
                </div>
                <div class="formula" style="font-size:1.2rem; margin-top:0.5rem;">
                    = 240
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Se pueden formar <span class="em-success">240 almuerzos diferentes</span>.</p>
        </div>
    </div>
</div>

<!-- SLIDE 6 ‚Äî PERMUTACIONES SIN REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">2 ‚Äî PERMUTACIONES</div>
        <h2>Permutaciones sin Elementos Repetidos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Definici√≥n</strong>
            <p>Al tomar <strong>todos los elementos</strong> de un conjunto finito y ordenarlos de todas las maneras posibles, tendremos una <span class="em">permutaci√≥n</span>.</p>
            <p style="margin-top:0.5rem;">Con <strong>n elementos</strong>, se ordenan de todas las maneras, <strong>sin dejar ninguno fuera</strong>.</p>
        </div>

        <div class="box box-warn">
            <strong>üí° Ejemplo conceptual</strong>
            <p>Si se tienen las letras <strong>a, b, c</strong>, sus ordenaciones son:</p>
            <div class="formula" style="font-size:1rem;">
                abc, acb, bac, bca, cab, cba
            </div>
            <p style="margin-top:0.5rem;">En total, <strong>6 maneras</strong> de ordenar las 3 letras.</p>
        </div>

        <h3>F√≥rmulas seg√∫n tipo de ordenaci√≥n</h3>
        <div class="grid grid-2">
            <div class="card card-accent">
                <h4>Ordenaci√≥n lineal (en fila)</h4>
                <div class="formula" style="font-size:1.1rem;">
                    P‚Çô = n!
                </div>
                <p style="margin-top:0.5rem;">Donde:</p>
                <div class="formula" style="font-size:0.95rem;">
                    n! = 1 √ó 2 √ó 3 √ó ... √ó n
                </div>
            </div>
            <div class="card card-accent">
                <h4>Ordenaci√≥n circular (mesa redonda)</h4>
                <div class="formula" style="font-size:1.1rem;">
                    P‚Çô = (n ‚àí 1)!
                </div>
                <p style="margin-top:0.5rem;">Donde:</p>
                <div class="formula" style="font-size:0.95rem;">
                    (n‚àí1)! = 1 √ó 2 √ó 3 √ó ... √ó (n‚àí1)
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 7 ‚Äî EJEMPLO PERMUTACI√ìN LINEAL -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">2 ‚Äî PERMUTACIONES</div>
        <h2>Ejemplo: Ordenaci√≥n Lineal</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>Ordenar <strong>7 personas en una fila</strong>.</p>
        </div>

        <h3>Soluci√≥n</h3>
        <p>Como se trata de ordenar <strong>todos</strong> los elementos (7 personas) en forma lineal, usamos:</p>

        <div class="formula">
            P‚Çá = 7!
        </div>

        <div class="card" style="margin-top:1rem;">
            <h4>C√°lculo paso a paso</h4>
            <div class="formula" style="font-size:1rem;">
                7! = 1 √ó 2 √ó 3 √ó 4 √ó 5 √ó 6 √ó 7
            </div>
            <div class="formula" style="font-size:1.1rem; margin-top:0.5rem;">
                = 5040
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Hay <span class="em-success">5040 maneras diferentes</span> de ordenar 7 personas en una fila.</p>
        </div>

        <div class="box box-warn">
            <strong>üí° Observaci√≥n</strong>
            <p>El n√∫mero de permutaciones crece <strong>muy r√°pidamente</strong> con n. Por ejemplo:<br>
            ‚Ä¢ 5! = 120<br>
            ‚Ä¢ 10! = 3,628,800<br>
            ‚Ä¢ 15! = 1,307,674,368,000</p>
        </div>
    </div>
</div>

<!-- SLIDE 8 ‚Äî EJEMPLO PERMUTACI√ìN CIRCULAR -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">2 ‚Äî PERMUTACIONES</div>
        <h2>Ejemplo: Ordenaci√≥n Circular</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>¬øDe cu√°ntas maneras distintas se pueden sentar <strong>7 personas en una mesa redonda</strong>?</p>
        </div>

        <h3>Soluci√≥n</h3>
        <p>En una ordenaci√≥n <strong>circular</strong>, no hay un "primer" lugar fijo. Usamos:</p>

        <div class="formula">
            P‚Çô = (n ‚àí 1)!
        </div>

        <p>Para n = 7:</p>

        <div class="card" style="margin-top:1rem;">
            <h4>C√°lculo</h4>
            <div class="formula" style="font-size:1rem;">
                P‚Çá = (7 ‚àí 1)! = 6!
            </div>
            <div class="formula" style="font-size:1rem; margin-top:0.5rem;">
                6! = 1 √ó 2 √ó 3 √ó 4 √ó 5 √ó 6 = 720
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Hay <span class="em-success">720 maneras diferentes</span> de sentar 7 personas en una mesa redonda.</p>
        </div>

        <div class="box">
            <strong>üîç ¬øPor qu√© (n‚àí1)! en vez de n!?</strong>
            <p>En una mesa redonda, las rotaciones de una misma disposici√≥n se consideran <strong>iguales</strong>. Por ejemplo, si A est√° a la izquierda de B, da igual si est√°n en la "posici√≥n 1 y 2" o en la "posici√≥n 3 y 4".</p>
        </div>
    </div>
</div>

<!-- SLIDE 9 ‚Äî PERMUTACIONES CON REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">3 ‚Äî PERMUTACIONES</div>
        <h2>Permutaciones con Elementos Repetidos</h2>
    </div>
    <div class="content">
        <p>En variadas situaciones se deben ordenar <strong>n elementos</strong> dentro de los cuales hay <span class="em-warn">algunos repetidos</span>.</p>

        <div class="box">
            <strong>üìå Supuestos</strong>
            <p>De <strong>n elementos totales</strong>, hay:</p>
            <ul style="margin-top:0.5rem;">
                <li><strong>p</strong> elementos iguales entre s√≠</li>
                <li><strong>q</strong> elementos iguales entre s√≠</li>
                <li><strong>r</strong> elementos iguales entre s√≠</li>
            </ul>
        </div>

        <div class="box box-success">
            <strong>‚úÖ F√≥rmula</strong>
            <div class="formula">
                P‚Çô‚ÅΩ·µñ'·µç' ≥‚Åæ = n! / (p! √ó q! √ó r!)
            </div>
        </div>

        <div class="box box-warn">
            <strong>üí° Intuici√≥n</strong>
            <p>Dividimos n! entre los factoriales de las repeticiones porque las <strong>permutaciones internas</strong> de elementos id√©nticos no generan ordenaciones diferentes.</p>
        </div>
    </div>
</div>

<!-- SLIDE 10 ‚Äî EJEMPLO PERMUTACI√ìN REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">3 ‚Äî PERMUTACIONES CON REPETICI√ìN</div>
        <h2>Ejemplo: Fichas de Colores</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>Ordenar en fila <strong>7 fichas</strong>, de las cuales hay:</p>
            <ul style="margin-top:0.5rem;">
                <li><strong>2 fichas rojas</strong></li>
                <li><strong>4 fichas azules</strong></li>
                <li><strong>1 ficha amarilla</strong></li>
            </ul>
        </div>

        <h3>Soluci√≥n</h3>
        <p>Como deben ordenarse las 7 fichas y hay elementos repetidos, usamos:</p>

        <div class="formula">
            P‚Çô‚ÅΩ·µñ'·µç' ≥‚Åæ = n! / (p! √ó q! √ó r!)
        </div>

        <div class="grid grid-2">
            <div class="card">
                <h4>Identificaci√≥n</h4>
                <ul>
                    <li>n = <strong>7</strong> (total fichas)</li>
                    <li>p = <strong>2</strong> (rojas)</li>
                    <li>q = <strong>4</strong> (azules)</li>
                    <li>r = <strong>1</strong> (amarilla)</li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:0.95rem;">
                    P‚Çá‚ÅΩ¬≤'‚Å¥'¬π‚Åæ = 7! / (2! √ó 4! √ó 1!)
                </div>
                <div class="formula" style="font-size:0.9rem;">
                    = 5040 / (2 √ó 24 √ó 1)
                </div>
                <div class="formula" style="font-size:1rem;">
                    = 5040 / 48 = 105
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Hay <span class="em-success">105 maneras diferentes</span> de ordenar las 7 fichas.</p>
        </div>
    </div>
</div>

<!-- SLIDE 11 ‚Äî VARIACIONES SIN REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">4 ‚Äî VARIACIONES</div>
        <h2>Variaciones sin Elementos Repetidos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Definici√≥n</strong>
            <p>Se dispone de <strong>n elementos</strong>, pero se escogen <strong>k</strong> (algunos) de ellos.</p>
            <p style="margin-top:0.5rem;">Se llama <span class="em">variaci√≥n de orden k</span> a cada grupo que se forma de k elementos escogidos de un total de n, donde:</p>
            <ul style="margin-top:0.5rem;">
                <li>Los grupos tienen alg√∫n <strong>elemento distinto</strong>, O</li>
                <li>El <strong>orden</strong> en que est√°n ubicados es diferente</li>
            </ul>
        </div>

        <div class="box box-success">
            <strong>‚úÖ F√≥rmula</strong>
            <div class="formula">
                V‚Çô·µè = n! / (n ‚àí k)!
            </div>
            <p style="margin-top:0.5rem; text-align:center;">con <strong>n ‚â• k</strong></p>
        </div>

        <div class="box box-warn">
            <strong>‚ö†Ô∏è Diferencia clave con permutaciones</strong>
            <p>‚Ä¢ <strong>Permutaciones:</strong> se usan <strong>todos</strong> los n elementos<br>
            ‚Ä¢ <strong>Variaciones:</strong> se usan solo <strong>k de los n</strong> elementos<br>
            ‚Ä¢ En variaciones, <span class="em-warn">el orden importa</span></p>
        </div>
    </div>
</div>

<!-- SLIDE 12 ‚Äî EJEMPLO VARIACIONES -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">4 ‚Äî VARIACIONES SIN REPETICI√ìN</div>
        <h2>Ejemplo: Cargos en un Club</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>Se toman <strong>4 nombres</strong> de los <strong>24 miembros</strong> de un club para ocupar los cargos de:</p>
            <ul style="margin-top:0.5rem;">
                <li>Presidente</li>
                <li>Vicepresidente</li>
                <li>Tesorero</li>
                <li>Secretario</li>
            </ul>
            <p style="margin-top:0.5rem;">¬øEn cu√°ntas formas diferentes puede hacerse?</p>
        </div>

        <h3>An√°lisis</h3>
        <div class="card" style="margin-bottom:1rem;">
            <h4>¬øPor qu√© es una variaci√≥n?</h4>
            <p>‚Ä¢ De <strong>24 personas</strong>, se escogen grupos de <strong>4</strong><br>
            ‚Ä¢ El <span class="em-warn">orden importa</span>: Pedro como presidente ‚â† Pedro como secretario<br>
            ‚Ä¢ Ejemplo: si se escogen Pedro, Juan, Diego, Jos√©, hay m√∫ltiples combinatorias diferentes seg√∫n qui√©n ocupe cada cargo</p>
        </div>

        <div class="grid grid-2">
            <div class="card">
                <h4>Datos</h4>
                <ul>
                    <li>n = <strong>24</strong> (total miembros)</li>
                    <li>k = <strong>4</strong> (cargos a llenar)</li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:0.95rem;">
                    V‚ÇÇ‚ÇÑ‚Å¥ = 24! / (24‚àí4)!
                </div>
                <div class="formula" style="font-size:0.95rem;">
                    = 24! / 20! = 255,024
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Hay <span class="em-success">255,024 maneras diferentes</span>.</p>
        </div>
    </div>
</div>

<!-- SLIDE 13 ‚Äî VARIACIONES CON REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">5 ‚Äî VARIACIONES</div>
        <h2>Variaciones con Elementos Repetidos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Definici√≥n</strong>
            <p>De un total de <strong>n elementos</strong>, se deben escoger <strong>k</strong> de ellos para formar un grupo, pero en este caso, <span class="em-warn">algunos elementos est√°n repetidos</span> (o pueden repetirse).</p>
            <p style="margin-top:0.5rem;">Cada grupo difiere de otro por los elementos que lo componen o por el orden. <strong>Interesa el orden</strong>.</p>
        </div>

        <div class="box box-success">
            <strong>‚úÖ F√≥rmula</strong>
            <div class="formula">
                VR‚Çô·µè = n·µè
            </div>
        </div>

        <div class="box box-warn">
            <strong>üí° ¬øCu√°ndo usar esta f√≥rmula?</strong>
            <p>Cuando los elementos <strong>pueden repetirse</strong> en la selecci√≥n. Por ejemplo:</p>
            <ul style="margin-top:0.5rem;">
                <li>N√∫meros de tel√©fono (los d√≠gitos se pueden repetir)</li>
                <li>Contrase√±as con caracteres repetibles</li>
                <li>C√≥digos donde un s√≠mbolo puede aparecer varias veces</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 14 ‚Äî EJEMPLO VARIACIONES REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">5 ‚Äî VARIACIONES CON REPETICI√ìN</div>
        <h2>Ejemplo: N√∫meros de 6 Cifras</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>¬øCu√°ntos n√∫meros de <strong>6 cifras</strong> existen si se eligen de entre los d√≠gitos <strong>1, 2, 3, 4, 5, 6, 7</strong> y todos comienzan con <strong>3</strong>?</p>
        </div>

        <h3>An√°lisis</h3>
        <div class="card" style="margin-bottom:1rem;">
            <h4>Estructura del n√∫mero</h4>
            <div class="formula" style="font-size:1.1rem;">
                3 _ _ _ _ _
            </div>
            <p style="margin-top:0.5rem;">‚Ä¢ Primera posici√≥n: fija (<strong>3</strong>)<br>
            ‚Ä¢ Restantes 5 posiciones: pueden ser cualquiera de los 7 d√≠gitos (con repetici√≥n permitida)</p>
        </div>

        <div class="grid grid-2">
            <div class="card">
                <h4>Datos</h4>
                <ul>
                    <li>n = <strong>7</strong> (d√≠gitos disponibles)</li>
                    <li>k = <strong>5</strong> (posiciones a llenar)</li>
                    <li>Se permite repetici√≥n</li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:1rem;">
                    VR‚Çá‚Åµ = 7‚Åµ
                </div>
                <div class="formula" style="font-size:1.1rem;">
                    = 16,807
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Existen <span class="em-success">16,807 n√∫meros diferentes</span> de 6 cifras que comienzan con 3.</p>
        </div>
    </div>
</div>

<!-- SLIDE 15 ‚Äî COMBINACIONES SIN REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">6 ‚Äî COMBINACIONES</div>
        <h2>Combinaciones sin Elementos Repetidos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Definici√≥n</strong>
            <p>De un total de <strong>n elementos</strong> se escogen <strong>k</strong> formando grupos de orden k.</p>
            <p style="margin-top:0.5rem;">Cada grupo se diferencia de otro si tienen <strong>elementos distintos</strong>, pero <span class="em-success">NO por el orden</span> en que est√°n dispuestos.</p>
        </div>

        <div class="box box-success">
            <strong>‚úÖ F√≥rmula</strong>
            <div class="formula">
                C‚Çô·µè = n! / (k! √ó (n‚àík)!)
            </div>
        </div>

        <div class="box box-warn">
            <strong>‚ö†Ô∏è Diferencia clave: Variaciones vs Combinaciones</strong>
            <p>‚Ä¢ <strong>Variaciones:</strong> el orden <span class="em-warn">S√ç importa</span> (AB ‚â† BA)<br>
            ‚Ä¢ <strong>Combinaciones:</strong> el orden <span class="em-success">NO importa</span> (AB = BA)<br>
            <br>
            Por eso: <strong>C‚Çô·µè < V‚Çô·µè</strong> (siempre hay menos combinaciones que variaciones)</p>
        </div>

        <div class="box">
            <strong>üí° Ejemplos de uso</strong>
            <ul>
                <li>Seleccionar un comit√© (el orden de selecci√≥n no importa)</li>
                <li>Escoger un equipo deportivo</li>
                <li>Elegir ingredientes para una receta</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 16 ‚Äî EJEMPLO COMBINACIONES -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">6 ‚Äî COMBINACIONES SIN REPETICI√ìN</div>
        <h2>Ejemplo: Comit√© de 3 Personas</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>De un grupo de <strong>20 personas</strong>, se designa un comit√© de <strong>3</strong>. ¬øDe cu√°ntas maneras es posible hacerlo?</p>
        </div>

        <h3>An√°lisis</h3>
        <div class="card" style="margin-bottom:1rem;">
            <h4>¬øPor qu√© es una combinaci√≥n?</h4>
            <p>‚Ä¢ Se eligen <strong>3 de 20</strong> personas<br>
            ‚Ä¢ <span class="em-success">No interesa el orden</span>: {Ana, Juan, Pedro} = {Pedro, Ana, Juan}<br>
            ‚Ä¢ Solo importa <strong>qui√©nes</strong> est√°n en el comit√©, no en qu√© orden fueron elegidos</p>
        </div>

        <div class="grid grid-2">
            <div class="card">
                <h4>Datos</h4>
                <ul>
                    <li>n = <strong>20</strong> (total personas)</li>
                    <li>k = <strong>3</strong> (tama√±o del comit√©)</li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:0.9rem;">
                    C‚ÇÇ‚ÇÄ¬≥ = 20! / (3! √ó (20‚àí3)!)
                </div>
                <div class="formula" style="font-size:0.9rem;">
                    = 20! / (3! √ó 17!)
                </div>
                <div class="formula" style="font-size:1rem;">
                    = (20√ó19√ó18) / (3√ó2√ó1) = 1140
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Respuesta</strong>
            <p>Hay <span class="em-success">1,140 maneras diferentes</span> de formar el comit√©.</p>
        </div>
    </div>
</div>

<!-- SLIDE 17 ‚Äî COMBINACIONES CON REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">7 ‚Äî COMBINACIONES</div>
        <h2>Combinaciones con Elementos Repetidos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìå Definici√≥n</strong>
            <p>De un total de <strong>n elementos</strong> se escogen <strong>k</strong> de ellos, de los cuales <span class="em-warn">algunos est√°n repetidos</span> (o pueden repetirse).</p>
            <p style="margin-top:0.5rem;">El orden en que est√°n dispuestos los elementos dentro de un grupo <span class="em-success">NO interesa</span>.</p>
        </div>

        <div class="box box-success">
            <strong>‚úÖ F√≥rmula</strong>
            <div class="formula">
                CR‚Çô·µè = C‚ÅΩ‚Åø‚Å∫·µè‚Åª¬π‚Åæ‚Çñ = (n+k‚àí1)! / (k! √ó (n‚àí1)!)
            </div>
        </div>

        <div class="box box-warn">
            <strong>üí° ¬øCu√°ndo usar?</strong>
            <p>Cuando se pueden <strong>repetir elementos</strong> en la selecci√≥n y <strong>no importa el orden</strong>. Por ejemplo:</p>
            <ul style="margin-top:0.5rem;">
                <li>Elegir bolas de colores (con reemplazo)</li>
                <li>Seleccionar ingredientes donde puede haber varios del mismo tipo</li>
                <li>Distribuir objetos id√©nticos en categor√≠as</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 18 ‚Äî EJEMPLO COMBINACIONES REPETICI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">7 ‚Äî COMBINACIONES CON REPETICI√ìN</div>
        <h2>Ejemplo: Letras con Repetici√≥n</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Problema</strong>
            <p>Se tienen las letras <strong>a, b, c</strong>. ¬øDe cu√°ntas maneras se pueden escoger <strong>2 letras</strong>, pudiendo repetirlas y sin importar el orden en que se dispongan?</p>
        </div>

        <h3>Soluci√≥n</h3>
        <div class="grid grid-2">
            <div class="card">
                <h4>Datos</h4>
                <ul>
                    <li>n = <strong>3</strong> (letras disponibles: a, b, c)</li>
                    <li>k = <strong>2</strong> (letras a escoger)</li>
                    <li>Se permite repetici√≥n</li>
                    <li>Orden no importa</li>
                </ul>
            </div>
            <div class="card card-accent">
                <h4>C√°lculo</h4>
                <div class="formula" style="font-size:0.9rem;">
                    CR‚ÇÉ¬≤ = C‚ÇÑ¬≤ = 4! / (2! √ó 2!)
                </div>
                <div class="formula" style="font-size:1rem;">
                    = 24 / (2 √ó 2) = 6
                </div>
            </div>
        </div>

        <div class="box box-success">
            <strong>‚úÖ Las 6 maneras son:</strong>
            <div class="formula" style="font-size:1.1rem;">
                aa, ab, ac, bb, bc, cc
            </div>
        </div>

        <div class="box box-warn">
            <strong>üí° Nota importante</strong>
            <p>La dupla <strong>ab</strong> es la misma que <strong>ba</strong>, por lo tanto se cuenta <span class="em-warn">una sola vez</span>. Esto confirma que estamos ante una <strong>combinaci√≥n</strong> (orden no importa).</p>
        </div>
    </div>
</div>

<!-- SLIDE 19 ‚Äî RESUMEN F√ìRMULAS -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">RESUMEN</div>
        <h2>Tabla de F√≥rmulas de Combinatoria</h2>
    </div>
    <div class="content">
        <table>
            <thead>
                <tr>
                    <th>T√©cnica</th>
                    <th>¬øImporta orden?</th>
                    <th>¬øSe usan todos?</th>
                    <th>¬øHay repetici√≥n?</th>
                    <th>F√≥rmula</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Regla de multiplicaci√≥n</strong></td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td>‚Äî</td>
                    <td>n‚ÇÅ √ó n‚ÇÇ √ó ... √ó n‚Çñ</td>
                </tr>
                <tr>
                    <td><strong>Permutaci√≥n lineal</strong></td>
                    <td>S√≠</td>
                    <td>S√≠</td>
                    <td>No</td>
                    <td>P‚Çô = n!</td>
                </tr>
                <tr>
                    <td><strong>Permutaci√≥n circular</strong></td>
                    <td>S√≠</td>
                    <td>S√≠</td>
                    <td>No</td>
                    <td>P‚Çô = (n‚àí1)!</td>
                </tr>
                <tr>
                    <td><strong>Permutaci√≥n c/ repetici√≥n</strong></td>
                    <td>S√≠</td>
                    <td>S√≠</td>
                    <td>S√≠</td>
                    <td>n! / (p!√óq!√ór!)</td>
                </tr>
                <tr>
                    <td><strong>Variaci√≥n s/ repetici√≥n</strong></td>
                    <td>S√≠</td>
                    <td>No (k de n)</td>
                    <td>No</td>
                    <td>n! / (n‚àík)!</td>
                </tr>
                <tr>
                    <td><strong>Variaci√≥n c/ repetici√≥n</strong></td>
                    <td>S√≠</td>
                    <td>No (k de n)</td>
                    <td>S√≠</td>
                    <td>n·µè</td>
                </tr>
                <tr>
                    <td><strong>Combinaci√≥n s/ repetici√≥n</strong></td>
                    <td>No</td>
                    <td>No (k de n)</td>
                    <td>No</td>
                    <td>n! / (k!√ó(n‚àík)!)</td>
                </tr>
                <tr>
                    <td><strong>Combinaci√≥n c/ repetici√≥n</strong></td>
                    <td>No</td>
                    <td>No (k de n)</td>
                    <td>S√≠</td>
                    <td>(n+k‚àí1)! / (k!√ó(n‚àí1)!)</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- SLIDE 20 ‚Äî √ÅRBOL DE DECISI√ìN -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">GU√çA PR√ÅCTICA</div>
        <h2>¬øQu√© T√©cnica Usar?</h2>
    </div>
    <div class="content">
        <div class="box box-success">
            <strong>üå≥ √Årbol de decisi√≥n</strong>
        </div>

        <div class="card card-accent" style="margin-bottom:1rem;">
            <h4>¬øSe trata de operaciones en pasos consecutivos?</h4>
            <p>‚Üí S√≠: <span class="em-success">Regla de la multiplicaci√≥n</span></p>
        </div>

        <div class="card card-accent" style="margin-bottom:1rem;">
            <h4>¬øSe ordenan TODOS los n elementos?</h4>
            <p>‚Üí S√≠, sin repetici√≥n lineal: <span class="em-success">Permutaci√≥n (n!)</span><br>
            ‚Üí S√≠, sin repetici√≥n circular: <span class="em-success">Permutaci√≥n circular ((n‚àí1)!)</span><br>
            ‚Üí S√≠, con repetici√≥n: <span class="em-success">Permutaci√≥n con repetici√≥n</span></p>
        </div>

        <div class="card card-accent" style="margin-bottom:1rem;">
            <h4>¬øSe escogen solo K de N elementos?</h4>
            <p>Pregunta adicional: <strong>¬øImporta el orden?</strong></p>
            <ul style="margin-top:0.5rem;">
                <li>S√ç importa orden, sin repetici√≥n ‚Üí <span class="em-success">Variaci√≥n</span></li>
                <li>S√ç importa orden, con repetici√≥n ‚Üí <span class="em-success">Variaci√≥n con repetici√≥n</span></li>
                <li>NO importa orden, sin repetici√≥n ‚Üí <span class="em-success">Combinaci√≥n</span></li>
                <li>NO importa orden, con repetici√≥n ‚Üí <span class="em-success">Combinaci√≥n con repetici√≥n</span></li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 21 ‚Äî EJERCICIO 1 -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number exercise-badge">üéØ EJERCICIO 1</div>
        <h2>Pr√°ctica: Identificaci√≥n de T√©cnicas</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Instrucciones</strong>
            <p>Selecciona la t√©cnica correcta para cada problema.</p>
        </div>
        <div id="ex1-container"></div>
        <div class="exercise-btns">
            <button class="ex-btn" onclick="checkEx1()">‚úî Revisar</button>
            <button class="ex-btn ex-btn-sec" onclick="resetEx1()">‚Ü∫ Limpiar</button>
        </div>
        <div id="ex1-feedback" class="feedback-msg"></div>
    </div>
</div>

<!-- SLIDE 22 ‚Äî EJERCICIO 2 -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number exercise-badge">üéØ EJERCICIO 2</div>
        <h2>Pr√°ctica: C√°lculos</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>üìù Instrucciones</strong>
            <p>Resuelve los siguientes problemas. Escribe solo el n√∫mero (sin comas ni espacios).</p>
        </div>
        <div id="ex2-container"></div>
        <div class="exercise-btns">
            <button class="ex-btn" onclick="checkEx2()">‚úî Revisar</button>
            <button class="ex-btn ex-btn-sec" onclick="resetEx2()">‚Ü∫ Limpiar</button>
        </div>
        <div id="ex2-feedback" class="feedback-msg"></div>
    </div>
</div>

<!-- SLIDE 23 ‚Äî BIBLIOGRAF√çA -->
<div class="slide">
    <div class="slide-header">
        <div class="slide-number">BIBLIOGRAF√çA</div>
        <h2>Referencia en Formato IEEE</h2>
    </div>
    <div class="content">
        <div class="box">
            <strong>[1] Fuente principal</strong>
            <p>"Conceptos b√°sicos de estad√≠stica," P√°ginas Personales UNAM. [Online]. Available: https://www.paginaspersonales.unam.mx/files/977/Conceptos_basicos_de_estadistica.pdf</p>
        </div>

        <div class="box box-success">
            <strong>üìö Contenidos basados en:</strong>
            <ul style="margin-top:0.5rem;">
                <li>Regla de la multiplicaci√≥n</li>
                <li>Permutaciones (lineales, circulares, con elementos repetidos)</li>
                <li>Variaciones (sin y con elementos repetidos)</li>
                <li>Combinaciones (sin y con elementos repetidos)</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 24 ‚Äî CIERRE -->
<div class="slide cover">
    <h1>¬øPreguntas?</h1>
    <div class="line"></div>
    <p class="subtitle">Gracias por tu atenci√≥n</p>
    <p class="meta">Bioestad√≠stica Aplicada ‚Äî Combinatoria</p>
</div>

</div><!-- /container -->

<div class="counter"><span id="current">1</span> / <span id="total">24</span></div>
<div class="nav">
    <button class="btn" id="prev" onclick="nav(-1)">‚óÄ</button>
    <button class="btn" id="next" onclick="nav(1)">‚ñ∂</button>
</div>

<script>
let current = 0;
const slides = document.querySelectorAll('.slide');
const total = slides.length;
document.getElementById('total').textContent = total;

function show(n) {
    if (n < 0) n = 0;
    if (n >= total) n = total - 1;
    slides.forEach(s => s.classList.remove('active'));
    slides[n].classList.add('active');
    current = n;
    document.getElementById('current').textContent = n + 1;
    document.getElementById('prev').disabled = (n === 0);
    document.getElementById('next').disabled = (n === total - 1);
}
function nav(dir) { show(current + dir); }
document.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft')  nav(-1);
    if (e.key === 'ArrowRight') nav(1);
    if (e.key === ' ')          { e.preventDefault(); nav(1); }
});
show(0);

function normalise(s) {
    return s.trim().toLowerCase()
        .normalize('NFD').replace(/[\u0300-\u036f]/g,'')
        .replace(/[^a-z0-9]/g,'');
}

// EJERCICIO 1
const ex1Data = [
    {
        q: "¬øCu√°ntas formas hay de ordenar 5 libros en un estante?",
        opts: ["Permutaci√≥n", "Variaci√≥n", "Combinaci√≥n", "Regla de multiplicaci√≥n"],
        correct: 0
    },
    {
        q: "De 10 estudiantes, ¬øde cu√°ntas formas se puede elegir un comit√© de 3 (sin importar orden)?",
        opts: ["Permutaci√≥n", "Variaci√≥n", "Combinaci√≥n", "Variaci√≥n con repetici√≥n"],
        correct: 2
    },
    {
        q: "¬øCu√°ntos n√∫meros de 4 d√≠gitos se pueden formar con 0-9 (con repetici√≥n permitida)?",
        opts: ["Permutaci√≥n", "Variaci√≥n con repetici√≥n", "Combinaci√≥n", "Permutaci√≥n con repetici√≥n"],
        correct: 1
    },
    {
        q: "De 8 personas, elegir presidente, vicepresidente y secretario:",
        opts: ["Permutaci√≥n", "Variaci√≥n", "Combinaci√≥n", "Combinaci√≥n con repetici√≥n"],
        correct: 1
    },
    {
        q: "¬øDe cu√°ntas formas se pueden sentar 6 personas en una mesa redonda?",
        opts: ["Permutaci√≥n lineal", "Permutaci√≥n circular", "Variaci√≥n", "Combinaci√≥n"],
        correct: 1
    }
];

(function renderEx1() {
    document.getElementById('ex1-container').innerHTML = ex1Data.map((item, qi) =>
        `<div class="exercise-q" style="margin-bottom:1rem;">
            <label><span class="qnum">${qi+1}.</span> ${item.q}</label>
            ${item.opts.map((opt, oi) =>
                `<div class="mc-option" id="ex1-opt-${qi}-${oi}" data-sel="false" onclick="selMC('ex1',${qi},${oi})">${opt}</div>`
            ).join('')}
        </div>`
    ).join('');
})();

// EJERCICIO 2
const ex2Data = [
    { q: "Calcula 5! (factorial de 5)", a: "120" },
    { q: "¬øDe cu√°ntas formas se pueden ordenar las letras de la palabra 'CASA' (permutaci√≥n con repetici√≥n: 2 A)?", a: "12" },
    { q: "Calcula C(8,3) = combinaci√≥n de 8 tomados de 3 en 3", a: "56" },
    { q: "Un restaurante ofrece 3 entradas, 4 platos principales y 2 postres. ¬øCu√°ntos men√∫s completos diferentes hay?", a: "24" },
    { q: "¬øCu√°ntos n√∫meros de 3 cifras se pueden formar con los d√≠gitos 1,2,3,4,5 (sin repetici√≥n)?", a: "60" }
];

(function renderEx2() {
    document.getElementById('ex2-container').innerHTML = ex2Data.map((item, i) =>
        `<div class="exercise-q">
            <label><span class="qnum">${i+1}.</span> ${item.q}</label>
            <input type="text" class="exercise-input" id="ex2-inp-${i}" autocomplete="off">
        </div>`
    ).join('');
})();

function selMC(prefix, qi, oi) {
    const data = ex1Data;
    data[qi].opts.forEach((_, i) => {
        const el = document.getElementById(`${prefix}-opt-${qi}-${i}`);
        el.classList.remove('selected');
        el.dataset.sel = 'false';
    });
    const el = document.getElementById(`${prefix}-opt-${qi}-${oi}`);
    el.classList.add('selected');
    el.dataset.sel = 'true';
}

function checkMC(prefix, data, feedbackId) {
    let c = 0;
    data.forEach((item, qi) => {
        let selIdx = -1;
        item.opts.forEach((_, oi) => {
            if (document.getElementById(`${prefix}-opt-${qi}-${oi}`).dataset.sel === 'true') selIdx = oi;
        });
        item.opts.forEach((_, oi) => {
            const el = document.getElementById(`${prefix}-opt-${qi}-${oi}`);
            el.classList.remove('selected','correct-sel','incorrect-sel');
            if (oi === item.correct) el.classList.add('correct-sel');
            else if (oi === selIdx && selIdx !== item.correct) el.classList.add('incorrect-sel');
        });
        if (selIdx === item.correct) c++;
    });
    const fb = document.getElementById(feedbackId);
    fb.classList.add('show');
    if (c === data.length) {
        fb.className = 'feedback-msg show success';
        fb.innerHTML = `üéâ ¬°Perfecto! Acertaste las ${c} respuestas.`;
    } else {
        fb.className = 'feedback-msg show partial';
        fb.innerHTML = `Acertaste <strong>${c} de ${data.length}</strong>. Las opciones correctas est√°n marcadas en verde.`;
    }
}

function resetMC(prefix, data, feedbackId) {
    data.forEach((item, qi) => {
        item.opts.forEach((_, oi) => {
            const el = document.getElementById(`${prefix}-opt-${qi}-${oi}`);
            el.classList.remove('selected','correct-sel','incorrect-sel');
            el.dataset.sel = 'false';
        });
    });
    document.getElementById(feedbackId).className = 'feedback-msg';
    document.getElementById(feedbackId).innerHTML = '';
}

function checkFill(prefix, data, feedbackId) {
    let correct = 0;
    data.forEach((item, i) => {
        const inp = document.getElementById(`${prefix}-inp-${i}`);
        const userVal = normalise(inp.value);
        const correctVal = normalise(item.a);
        if (userVal === correctVal) {
            inp.classList.remove('incorrect'); inp.classList.add('correct');
            correct++;
        } else {
            inp.classList.remove('correct'); inp.classList.add('incorrect');
        }
    });
    const fb = document.getElementById(feedbackId);
    fb.classList.add('show');
    if (correct === data.length) {
        fb.className = 'feedback-msg show success';
        fb.innerHTML = `üéâ ¬°Perfecto! Acertaste las ${correct} respuestas.`;
    } else {
        fb.className = 'feedback-msg show partial';
        fb.innerHTML = `Acertaste <strong>${correct} de ${data.length}</strong>. Las marcadas en rojo necesitan revisi√≥n.`;
    }
}

function resetFill(prefix, data, feedbackId) {
    data.forEach((_, i) => {
        const inp = document.getElementById(`${prefix}-inp-${i}`);
        inp.value = ''; inp.className = 'exercise-input';
    });
    document.getElementById(feedbackId).className = 'feedback-msg';
    document.getElementById(feedbackId).innerHTML = '';
}

function checkEx1()  { checkMC('ex1', ex1Data, 'ex1-feedback'); }
function resetEx1()  { resetMC('ex1', ex1Data, 'ex1-feedback'); }
function checkEx2()  { checkFill('ex2', ex2Data, 'ex2-feedback'); }
function resetEx2()  { resetFill('ex2', ex2Data, 'ex2-feedback'); }
</script>
</body>
</html>
